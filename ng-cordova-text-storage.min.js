angular.module("com.verico.ng-cordova-text-storage",[]),angular.module("com.verico.ng-cordova-text-storage").service("fileReader",["$q","fileSystem","filenameFactory",function(a,b,c){var d={};return d.readFile=function(d,e){var f=a.defer();return b.getFileSystem().then(function(a){a.root.getFile(c.getFilename(e),{create:!1,exclusive:!1},function(a){var c=b.getFileReader();c.onloadend=function(a){f.resolve(a.target.result)},c.readAsText(a)},f.reject)},f.reject),f.promise},d}]),angular.module("com.verico.ng-cordova-text-storage").service("fileSystem",["$q",function(a){var b={};return b.getFileSystem=function(){function b(a){d.resolve(a)}function c(a){d.reject(a)}var d=a.defer();return window.requestFileSystem(LocalFileSystem.PERSISTENT,0,b,c),d.promise},b.getFileReader=function(){return new FileReader},b}]),angular.module("com.verico.ng-cordova-text-storage").service("fileWriter",["$q","fileSystem","filenameFactory",function(a,b,c){var d={},e={};return e.saveFolder="textStorage",e.getWriter=function(b,d){var e=a.defer();return b.root.getFile(c.getFilename(d),{create:!0,exclusive:!1},function(a){a.createWriter(function(a){e.resolve(a)},e.reject)},e.reject),e.promise},d.writeToFile=function(c,d){var f=a.defer();return b.getFileSystem().then(function(a){e.getWriter(a,c).then(function(a){a.write(d),f.resolve()},f.reject)}),f.promise},d}]),angular.module("com.verico.ng-cordova-text-storage").factory("filenameFactory",function(){var a={},b={};return b.saveFolder="textStorage",a.getFilename=function(a){return a+".json"},a}),angular.module("com.verico.ng-cordova-text-storage").service("ngTextStorage",["fileWriter","fileReader",function(a,b){var c={};return c.setItem=function(b,c){return a.writeToFile(b,c)},c.getItem=function(a){return b.readFile(a)},c}]);